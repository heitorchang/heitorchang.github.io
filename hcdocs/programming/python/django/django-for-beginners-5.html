<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>HC Docs</title>
        <style>
        body {
          font-family: sans-serif;
        }

        a {
          text-decoration: none;
          display: inline-block;
          color: #21c;
        }

        a:visited {
          color: #82a;
        }

        a.index {
          margin-bottom: 1rem;
        }

        h2, h3, h4 {
          margin-top: 2.75rem;
        }

        li {
          margin: 0.25rem 0;
        }

        pre {
          box-sizing: border-box;
          margin: 1rem;
          padding: 1rem;
          border: 1px solid #ccc;
          background-color: #ffefd5;
          border-radius: 0.8rem;
          overflow: auto;
          min-width: calc(100% - 2rem);
          font-size: 1rem;
        }

        code {
          padding: 0 0.2rem;
          color: #062;
          font-size: 1rem;
        }

        .hc-monospace {
          font-family: monospace;
        }

        .content {
          max-width: 820px;
          margin-left: auto;
          margin-right: auto;
        }

        table {
          border-collapse: collapse;
        }

        td {
          padding: 0.5rem 0.8rem;
          border: 1px solid #ccc;
        }
        </style>
    </head>
    <body>
      <div style="position: fixed; top: 0; padding: 0.5em; background-color: #fff;">
        <a href="javascript:history.back()">&#x1F519; bk</a>&nbsp;&nbsp;
        <a href="#top">&#x1F51D; top</a>&nbsp;&nbsp;
        <a href="index.html">&#x1F4C2; dir</a>&nbsp;&nbsp;
        <a href="../index.html">&#x23EB; up</a>
      </div>
      <div id="top">&nbsp;</div>
      <div class="content">


    <h3><a href="../../../index.html">home</a> / <a href="../../index.html">programming</a> / <a href="../index.html">python</a> / <a href="index.html">django</a></h3>
    
<h1>Django for Beginners, 5th ed.</h1>

<h2>Table of Contents</h2>

<ol>
  <li><a href="#ch1">Initial Set Up</a></li>
  <li><a href="#ch2">Hello, World Website</a></li>
  <li><a href="#ch3">Personal Website</a></li>
  <li><a href="#ch4">Company Website</a></li>
</ol>

<h2 id="ch1">Chapter 1: Initial Set Up</h2>

<h3>Virtual environments</h3>

<pre>
python -m venv .venv
source .venv/bin/activate

# Ensure the current version of Python is used
python -m pip install --upgrade pip
</pre>

<h3>Install Django</h3>

<pre>
source .venv/bin/activate
python -m pip install django~=5.0.0
</pre>

<h3>First Django Project</h3>

<pre>
django-admin startproject django_project .
</pre>

<p>
  Run <code>tree</code> to view the current filesystem structure.
</p>

<h3>The Development Server</h3>

<pre>
python manage.py runserver
</pre>

<h2 id="ch2">Chapter 2: Hello, World Website</h2>

<h3>Django Architecture</h3>

<p>
  There are four main components to consider: URLs, models, views, and templates.
</p>

<p>
  Although the template is typically a HTML file, it could be any text-based format, including XML and JSON.
</p>

<h3>Initial Set Up</h3>

<pre>
cd ~/code/django_projects
mkdir helloworld
cd helloworld

python -m venv .venv
source .venv/bin/activate
python -m pip install --upgrade pip
python -m pip install django~=5.0.0

django-admin startproject django_project .

python manage.py migrate
python manage.py runserver
</pre>

<h3>Create an App</h3>

<pre>
python manage.py startapp pages
</pre>

<p>
  Add the new app to <code>django_project/settings.py</code>:
</p>

<pre>
INSTALLED_APPS = [
    "django.contrib.admin",
    ...
    "django.contrib.staticfiles",
    "pages",
]
</pre>

<h3>Your First View</h3>

<pre>
# pages/views.py

from django.http import HttpResponse


def home_page_view(request):
    return HttpResponse("Hello, World!")
</pre>

<h3>URL Dispatcher</h3>

<p>
  Create the app's <code>urls.py</code> file:
</p>

<pre>
# pages/urls.py

from django.urls import path

from .views import home_page_view


urlpatterns = [
    path("", home_page_view),
]
</pre>

<p>
  Finally, update the global <code>urls.py</code> file:
</p>

<pre>
# django_project/urls.py

from django.contrib import admin
from django.urls import path, include


urlpatterns = [
    path("admin/", admin.site.urls),
    path("", include("pages.urls")),
]
</pre>

<h3>Git</h3>

<pre>
git init
</pre>

<p>
  Add to <code>.gitignore</code>:
</p>

<pre>
.venv/
</pre>

<p>
  In order to recreate the virtual environment, generate <code>requirements.txt</code> in the top-level <code>helloworld</code> directory:
</p>

<pre>
python -m pip freeze > requirements.txt
</pre>

<p>
  Add all files and commit the changes:
</p>

<pre>
git add -A
git commit -m "initial commit"
</pre>

<p>
  <strong>Note</strong>: For now, the secrets in <code>settings.py</code> are saved in Git. In the Deployment section, these secret values are moved to environment variables.
</p>

<h2 id="ch3">Chapter 3: Personal Website</h2>

<p>
  This website will contain a Homepage and an About page.
</p>

<h3>Initial Set Up</h3>

<pre>
cd ~/code/django_projects
mkdir personal_website
cd personal_website
python -m venv .venv
source .venv/bin/activate
python -m pip install --upgrade pip
python -m pip install django~=5.0.0
django-admin startproject django_project .
python manage.py migrate
</pre>

<p>
  The commands above have been collected in the <a href="django_project.py.txt" target="_blank">django_project.py</a> script.
</p>

<p>
  Create a new <code>pages</code> app:
</p>

<pre>
python manage.py startapp pages
</pre>

<p>
  Add the app to <code>settings.py</code>:
</p>

<pre>
INSTALLED_APPS = [
    "django.contrib.admin",
    ...
    "django.contrib.staticfiles",
    "pages",
]
</pre>

<h3>Homepage</h3>

<p>
  The home page will be like in the last chapter: a <code>HttpResponse</code>:
</p>

<pre>
# pages/views.py

from django.shortcuts import render
from django.http import HttpResponse


def home_page_view(request):
    return HttpResponse("Homepage")
</pre>

<p>
  Again, create an app-level <code>urls.py</code> and add the path to the global <code>urls.py</code>
</p>

<pre>
# pages/urls.py

from django.urls import path

from .views import home_page_view


urlpatterns = [
    path("", home_page_view),
]
</pre>

<pre>
# django_project/urls.py


from django.contrib import admin
from django.urls import path, include


urlpatterns = [
    path("admin/", admin.site.urls),
    path("", include("pages.urls")),
]
</pre>

<h3>Function-Based View About Page</h3>

<p>
  <code>render()</code> is a shortcut function for working with a template. It accepts the <em>request</em> object, a template name, and context (a dict-like object) as arguments. Add a new function-based view to <code>views.py</code>:
</p>

<pre>
# pages/views.py

...

def about_page_view(request):
    context = {"author": "Alice"}
    return render(request, "pages/about.html", context)
</pre>

<h3>Templates</h3>

<p>
  Templates are the presentation layer. Django looks for files in the <code>templates</code> subdirectory in each app. To avoid loading the wrong template file, a subdirectory of <code>templates</code> named after the app should be created:
</p>

<pre>
# in ~/code/django_projects/personal_website

mkdir pages/templates
mkdir pages/templates/pages
</pre>

<p>
  Now, add a file <code>about.html</code> in <code>pages/templates/pages/</code>:
</p>

<pre>
&lt;!-- pages/templates/pages/about.html --&gt;
&lt;h1&gt;About page&lt;/h1&gt;
&lt;p&gt;
  This is the new template-powered About page, written by {{ author }}.
&lt;/p&gt;
</pre>

<h3>URL Dispatcher</h3>

<p>
  Update <code>pages/urls.py</code> with the new view:
</p>

<pre>
# pages/urls.py

...

from .views import home_page_view, about_page_view

urlpatterns = [
    path("about/", about_page_view),
    path("", home_page_view),
]
</pre>

<h3>The Django Template Language</h3>

<p>
  Anything between <code>{% comment %}...{% endcomment %}</code> is ignored.
</p>

<h3>Template Context</h3>

<p>
  Add a new value to the context:
</p>

<pre>
# pages/views.py

    ...
    context = {"author": "Alice", "age": 33}
    ...
</pre>

<h3>Tests</h3>

<p>
  <em>Unit tests</em> check a piece of functionality in isolation.
</p>

<p>
  <em>Integration tests</em> check multiple linked pieces.
</p>

<p>
  Since there is no database, a <code>SimpleTestCase</code> is most appropriate here. We will test that the two URLs return HTTP 200 status codes (successful HTTP request).
</p>

<pre>
# pages/tests.py

from django.test import SimpleTestCase


class HomepageTests(SimpleTestCase):
    def test_url_exists_at_correct_location(self):
        response = self.client.get("/")
        self.assertEqual(response.status_code, 200)


class AboutPageTests(SimpleTestCase):
    def test_url_exists_at_correct_location(self):
        response = self.client.get("/about/")
        self.assertEqual(response.status_code, 200)

    def test_url_without_trailing_slash_redirects(self):
        response = self.client.get("/about/")
        self.assertEqual(response.status_code, 200)
</pre>

<p>
  Then run:
</p>

<pre>
python manage.py test
</pre>

<h3>Git</h3>

<p>
  Add to <code>.gitignore</code>:
</p>

<pre>
.venv/
__pycache__/
db.sqlite3
</pre>

<p>
  Also, generate the <code>requirements.txt</code> file:
</p>

<pre>
python -m pip freeze > requirements.txt
</pre>

<p>
  Finally, create a commit and push to the remote server:
</p>

<pre>
git init
git add -A
git commit -m "initial commit"
git remote add origin https://git-remote.com/heitor/personal_website.git
git push -u origin main
</pre>

<h2 id="ch4">Chapter 4: Company Website</h2>

</div>
<br>
<hr>
<div style="padding-left: 0.5em; background-color: #fff;">
  <a href="javascript:history.back()">&#x1F519; Back</a>&nbsp;&nbsp;&nbsp;
  <a href="#top">&#x1F51D; Top</a>&nbsp;&nbsp;&nbsp;
  <a href="index.html">&#x1F4C2; Dir list</a>&nbsp;&nbsp;&nbsp;
  <a href="../index.html">&#x23EB; Up</a>&nbsp;&nbsp;&nbsp;
</div>
<br><br><br>
    </body>
</html>


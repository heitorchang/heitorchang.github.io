<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>HC Docs</title>
        <style>
        body {
          font-family: sans-serif;
        }

        a {
          text-decoration: none;
          display: inline-block;
          color: #21c;
        }

        a:visited {
          color: #82a;
        }

        a.index {
          margin-bottom: 1rem;
        }

        h2, h3, h4 {
          margin-top: 2.75rem;
        }

        li {
          margin: 0.25rem 0;
        }

        pre {
          box-sizing: border-box;
          margin: 1rem;
          padding: 1rem;
          border: 1px solid #ccc;
          background-color: #ffefd5;
          border-radius: 0.8rem;
          overflow: auto;
          min-width: calc(100% - 2rem);
          font-size: 1rem;
        }

        code {
          padding: 0 0.2rem;
          color: #062;
          font-size: 1rem;
        }

        pre > code {
          padding: 0;
        }

        .hc-monospace {
          font-family: monospace;
        }

        .content {
          max-width: 820px;
          margin-left: auto;
          margin-right: auto;
        }

        table {
          border-collapse: collapse;
        }

        td {
          padding: 0.5rem 0.8rem;
          border: 1px solid #ccc;
        }
        </style>
    </head>
    <body>
      <div style="position: fixed; top: 0; padding: 0.5em; background-color: #fff;">
        <a href="javascript:history.back()">&#x1F519; bk</a>&nbsp;&nbsp;
        <a href="index.html">&#x1F4C2; dir</a>&nbsp;&nbsp;
        <a href="#top">&#x1F51D; top</a>&nbsp;&nbsp;
      </div>
      <div id="top">&nbsp;</div>
      <div class="content">


    <h3><a href="../../index.html">home</a> / <a href="../index.html">programming</a> / <a href="index.html">rust</a></h3>
    
<h1>Rust in Action Â© 2021</h1>
<p><strong>Note</strong>: Projects and code snippets are saved in <code>~/reading_list/rust-in-action-2021/</code></p>
<h2>Contents</h2>
<ol>
<li><a href="#ch1">Introducing Rust (1)</a></li>
<li><a href="#ch2">Language foundations (31)</a></li>
<li><a href="#ch3">Compound data types (77)</a></li>
<li><a href="#ch4">Lifetimes, ownership, and borrowing (107)</a></li>
<li><a href="#ch5">Data in depth (137)</a></li>
<li><a href="#ch6">Memory (175)</a></li>
<li><a href="#ch7">Files and storage (212)</a></li>
<li><a href="#ch8">Networking (251)</a></li>
<li><a href="#ch9">Time and timekeeping (293)</a></li>
<li><a href="#ch10">Processes, threads, and containers (328)</a></li>
<li><a href="#ch11">Kernel (365)</a></li>
<li><a href="#ch12">Signals, interrupts, and exceptions (390)</a></li>
</ol>
<h2 id="ch1">1. Introducing Rust</h2>
<h3>1.6 What is Rust?</h3>
<h4>1.6.1 Goal of Rust: Safety</h4>
<p>Rust programs do not have:</p>
<ul>
<li>dangling pointers</li>
<li>data races</li>
<li>buffer overflow (index out of bounds)</li>
<li>iterator invalidation (array modified inside a loop)</li>
</ul>
<h4>1.6.2 Goal of Rust: Productivity</h4>
<p><code>()</code> is called the <em>unit</em> type. It is the blank type. It is called "unit" because this type only has one value.</p>
<h3>1.7 Rust's big features</h3>
<ul>
<li>Performance</li>
<li>Concurrency</li>
<li>Memory efficiency</li>
</ul>
<h4>1.7.1 Performance</h4>
<ul>
<li>Methods are always dispatched statically unless dynamic dispatch is requested explicitly.</li>
</ul>
<h3>1.8 Downsides of Rust</h3>
<h4>1.8.1 Cyclic data structures</h4>
<p>It is tricky to model cyclic data like an arbitrary graph structure.</p>
<h2>Part 1: Rust language distinctives</h2>
<p>An introduction to Rust (syntax, reason to choose Rust)</p>
<h2 id="ch2">2. Language foundations</h2>
<h3>2.2 A glance at Rust's syntax</h3>
<h4>2.2.1 Defining variables, functions, and calling functions</h4>
<p><em>Listing 2.2</em></p>
<pre><code>fn main() {
    let a = 10;
    let b: i32 = 20;
    let c = 30_i32;
    let e = add(add(a, b), c);
    println!("(a + b) + c = {a} + {b} + {c} = {e}");
}

fn add(i: i32, j: i32) -&gt; i32 {
    i + j
}
</code></pre>
<p>Variables are immutable by default. (<code>let</code> is used to declare <em>variable bindings</em>)</p>
<p>Double quotes are used for strings, while single quotes are used for <code>char</code>s.</p>
<h3>2.3 Numbers</h3>
<h4>2.3.1 Integers and floating-point numbers (floats)</h4>
<p>Numbers can have methods: <code>24.5_f32.round()</code> instead of <code>round(24.5_f32)</code></p>
<h4>2.3.3 Comparing numbers</h4>
<p>Support for comparisons is provided by a feature called <em>traits</em> (<code>std::cmp::PartialOrd</code> and <code>std::cmp::PartialEq</code>).</p>
<p>To cast a value: <code>a as i32</code>. It is safest to cast the smaller type to a larger one (<em>promotion</em>). The opposite (a large type to a smaller one) can result in data corruption.</p>
<p><code>std::convert::TryInto</code> is a trait that returns an <code>i32</code> value wrapped within a <code>Result</code> (? unclear).</p>
<p>To compare floating-point numbers, use <code>abs()</code> and <code>f32::EPSILON</code> or <code>f64::EPSILON</code>:</p>
<pre><code>let absolute_difference = (desired - result).abs();
assert!(absolute_difference &lt;= f64::EPSILON);
</code></pre>
<p>Use <code>x.is_nan()</code> and <code>x.is_finite()</code> to check if <code>x</code> is a valid number.</p>
<h4>2.3.4 Other numeric types</h4>
<p>Use the <code>num</code> crate for ratios, fixed-point decimal numbers, and arbitrary size integers.</p>
<p>Add to <code>Cargo.toml</code>:</p>
<pre><code>[dependencies]
num = "0.4"
</code></pre>
<p><em>Listing 2.6</em></p>
<pre><code>use num::complex::Complex;

fn main() {
    let a = Complex { re: 2.1, im: -1.2 };
    let b = Complex::new(11.1, 22.2);
    let result = a + b;

    println!("{} + {}i", result.re, result.im);
}
</code></pre>
<p>The <code>new()</code> static method is not part of the language. It is typically implemented by convention only.</p>
<p>A <em>static method</em> is a function that is available for a type, but it's not an instance of that type.</p>
<h3>2.4 Flow control</h3>
<h2 id="ch3">3. Compound data types</h2>
<h2 id="ch4">4. Lifetimes, ownership, and borrowing</h2>
<h2 id="ch5">5. Data in depth</h2>
<h2 id="ch6">6. Memory</h2>
<h2 id="ch7">7. Files and storage</h2>
<h2 id="ch8">8. Networking</h2>
<h2 id="ch9">9. Time and timekeeping</h2>
<h2 id="ch10">10. Processes, threads, and containers</h2>
<h2 id="ch11">11. Kernel</h2>
<h2 id="ch12">12. Signals, interrupts, and exceptions</h2>



</div>
<br>
<hr>
<div style="padding-left: 0.5em; background-color: #fff;">
  <a href="javascript:history.back()">&#x1F519; Back</a>&nbsp;&nbsp;&nbsp;
  <a href="index.html">&#x1F4C2; Dir list</a>&nbsp;&nbsp;&nbsp;
  <a href="#top">&#x1F51D; Top</a>&nbsp;&nbsp;&nbsp;
</div>
<br><br><br>
    </body>
</html>

